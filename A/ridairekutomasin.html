<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>destroy history</title>
</head>
<body>
<button id="start">Start</button>
<script>
const sites = [
  "https://example.com",
  "https://google.com",
  "https://yahoo.co.jp",
  "https://wikipedia.org",
  "https://classroom.google.com/",
  "https://docs.google.com/presentation/",
  "https://drive.google.com/drive/",
  "https://www.google.com/imghp?hl=ja&tab=ri&ogbl",
  "https://docs.google.com/spreadsheets/u/0/?tgif=d",
  "https://docs.google.com/document/u/0/?tgif=d",
  "https://sites.google.com/new",
  "https://calendar.google.com/calendar/u/0/r?pli=1",
  "https://docs.google.com/forms/u/0/?tgif=d",
  "https://groups.google.com/",
  "https://contacts.google.com/",
  "https://keep.google.com/",
  "https://duckduckgo.com/"
]

function appendQuery(url){
  const tag = "t=" + Date.now() + "-" + Math.floor(Math.random()*100000)
  return url.includes("?") ? url + "&" + tag : url + "?" + tag
}

async function loop(){
  let i = 0
  while(true){
    const url = appendQuery(sites[i % sites.length])
    const w = window.open(url,"_blank")
    if(w){
      setTimeout(()=>{ try{ w.close() }catch(e){} },1000)
    }
    i++
    await new Promise(r=>setTimeout(r,2500))
  }
}

document.getElementById("start").addEventListener("click",()=>{
  loop()
})
</script>
</body>
</html>
