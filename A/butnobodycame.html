<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>But nobody came.</title>
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
        background: #000;
        font-family:"Hiragino Kaku Gothic ProN", sans-serif
      }

      .header {
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translateX(-50%);
        color: #fff;
        font-size: 28px;
        letter-spacing: 0.06em;
        pointer-events: none
      }

      .spawn {
        position: fixed;
        color: #fff;
        font-size: 20px;
        white-space: nowrap;
        pointer-events: none;
        user-select: none;
        opacity: 0;
        transform-origin: center center;
        transition: opacity 0.4s linear
      }
    </style>
  </head>
  <body>
    <div class="header">But nobody came.</div>
    <script>
      let interval = 3000
      let minInterval = 50
      let decrement = 50

      function rand(min, max) {
        return Math.random() * (max - min) + min
      }

      function spawn() {
        const texts = ['しかしだれもこなかった', 'But nobody came.']
        const el = document.createElement('div')
        el.className = 'spawn'
        el.textContent = texts[Math.floor(Math.random() * texts.length)]
        document.body.appendChild(el)
        const rect = el.getBoundingClientRect()
        const vw = window.innerWidth
        const vh = window.innerHeight
        const x = rand(0, Math.max(0, vw - rect.width))
        const y = rand(0, Math.max(0, vh - rect.height))
        const angle = rand(-90, 90)
        el.style.left = x + 'px'
        el.style.top = y + 'px'
        el.style.transform = 'rotate(' + angle + 'deg)'
        requestAnimationFrame(() => el.style.opacity = '1')
        interval = Math.max(minInterval, interval - decrement)
        setTimeout(spawn, interval)
      }
      setTimeout(spawn, interval)
    </script>
  </body>
</html>
