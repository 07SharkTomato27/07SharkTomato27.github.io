<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強勉強</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background-color: black;
      color: white;
      font-family: sans-serif;
      text-align: center;
    }
    #question-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    .popup {
      width: 300px;
      height: 200px;
      background-color: red;
      color: white;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1000;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 20px;
      animation: flash 0.2s infinite;
    }
    @keyframes flash {
      0% { background-color: red; }
      50% { background-color: black; }
      100% { background-color: red; }
    }
    #bsod {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: black;
      display: none;
      z-index: 9999;
    }
    #bsod img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
  </style>
</head>
<body>
  <div id="question-container">
    <h1>次の計算を解け</h1>
    <p id="question"></p>
    <input type="text" id="answer" autocomplete="off">
    <button onclick="checkAnswer()">答える</button>
    <p id="timer"></p>
  </div>
  <div id="bsod"><img src="image/red.png"></div>
  <script>
    let num1 = Math.floor(Math.random() * 50);
    let num2 = Math.floor(Math.random() * 50);
    let answer = num1 + num2;
    document.getElementById("question").textContent = `${num1} + ${num2} = ?`;

    let timeLeft = 10;
    const timer = document.getElementById("timer");
    timer.textContent = `残り時間: ${timeLeft}秒`;

    const countdown = setInterval(() => {
      timeLeft--;
      timer.textContent = `残り時間: ${timeLeft}秒`;
      if (timeLeft <= 0) {
        clearInterval(countdown);
        launchPopupAttack();
      }
    }, 1000);

    function checkAnswer() {
      const userAnswer = parseInt(document.getElementById("answer").value);
      if (userAnswer === answer) {
        window.close();
      } else {
        clearInterval(countdown);
        launchPopupAttack();
      }
    }

    function launchPopupAttack() {
      document.getElementById("question-container").style.display = "none";
      let count = 0;
      const interval = setInterval(() => {
        const popup = window.open("", "", "width=300,height=200,left=100,top=100");
        if (popup) {
          popup.document.write(`
            <html><head><title>さようなら</title>
            <style>
              body {
                margin: 0;
                background-color: red;
                color: white;
                display: flex;
                justify-content: center;
                align-items: center;
                font-size: 24px;
                animation: flash 0.2s infinite;
              }
              @keyframes flash {
                0% { background-color: red; }
                50% { background-color: black; }
                100% { background-color: red; }
              }
            </style>
            </head>
            <body>さようなら</body></html>
          `);
        }
        count++;
        if (count >= 15) {
          clearInterval(interval);
          document.getElementById("bsod").style.display = "block";
        }
      }, 200);
    }
  </script>
</body>
</html>
