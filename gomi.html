<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>授業支援</title>
  <link href="icon/favicon100.ico" rel="icon">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
    canvas {
      display: block;
      width: 100%;
      height: 100%;
      background: url('image/ga.png') no-repeat center center;
      background-size: 100% 100%;
    }
    #closeBtn {
      position: fixed;
      top: 10px;
      right: 10px;
      padding: 8px 12px;
      background: black;
      color: white;
      font-size: 14px;
      cursor: pointer;
      border: none;
      z-index: 10;
    }
    .red {
      background: red !important;
      background-image: none !important;
    }
  </style>
</head>
<body>
  <canvas id="bg"></canvas>
  <button id="closeBtn">✕</button>
  <script>
    let attempt = 0
    const btn = document.getElementById("closeBtn")
    const canvas = document.getElementById("bg")

    btn.addEventListener("click", () => {
      if (attempt === 0) {
        attempt++
        alert("あのぉ〜閉じないでくれませんか？")
      } else if (attempt === 1) {
        attempt++
        canvas.classList.add("red")
        alert("本当に閉じますか？")
      } else {
        window.open("about:blank", "_self")
        window.close()
      }
    })
  </script>
</body>
</html>
